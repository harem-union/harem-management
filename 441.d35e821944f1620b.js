"use strict";(self.webpackChunkgame_management=self.webpackChunkgame_management||[]).push([[441],{4441:(_,o,n)=>{n.r(o),n.d(o,{DashboardComponent:()=>v});var t=n(4438),i=n(177),l=n(4616),g=n(5036),c=n(2956);function p(a,s){if(1&a&&(t.j41(0,"div",30)(1,"div",31)(2,"h3",32),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"span",33),t.EFF(6),t.k0s()(),t.j41(7,"div",34),t.nrm(8,"div",35),t.k0s(),t.j41(9,"p",36),t.EFF(10),t.k0s()()),2&a){const e=s.$implicit,r=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,8,"TEAM_"+e.teamId)),t.R7$(3),t.Lme("",e.playerCount,"/",e.maxPlayers,""),t.R7$(2),t.HbH(r.getTeamColor(e.teamId)),t.xc7("width",r.Math.min(e.percentage,100),"%"),t.R7$(2),t.SpI("",e.percentage.toFixed(1),"%")}}function h(a,s){if(1&a&&(t.j41(0,"span",40),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a){const e=t.XpG().$implicit,r=t.XpG(2);t.HbH(r.getTeamBadgeClass(e.team)),t.R7$(),t.SpI(" ",t.bMT(2,3,"TEAM_"+e.team)," ")}}function m(a,s){1&a&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,"NO_TEAM")))}function u(a,s){if(1&a&&(t.j41(0,"tr")(1,"td",37),t.EFF(2),t.k0s(),t.j41(3,"td",37),t.EFF(4),t.k0s(),t.j41(5,"td",37),t.DNE(6,h,3,5,"span",38)(7,m,3,3,"span",39),t.k0s(),t.j41(8,"td",37),t.EFF(9),t.k0s()()),2&a){const e=s.$implicit;t.R7$(2),t.JRh(e.uid),t.R7$(2),t.JRh(e.nickname),t.R7$(2),t.Y8G("ngIf",e.team),t.R7$(),t.Y8G("ngIf",!e.team),t.R7$(2),t.JRh(e.rank_level)}}function b(a,s){1&a&&(t.j41(0,"tr")(1,"td",42),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&a&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"NO_PLAYERS")," "))}function k(a,s){if(1&a&&(t.j41(0,"div",1)(1,"div",2)(2,"h1",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",4),t.EFF(6),t.nI1(7,"translate"),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),t.qSk(),t.j41(13,"svg",9),t.nrm(14,"path",10),t.k0s()(),t.joV(),t.j41(15,"div",11)(16,"p",12),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"p",13),t.EFF(20),t.k0s()()()(),t.j41(21,"div",6)(22,"div",7)(23,"div",8),t.qSk(),t.j41(24,"svg",14),t.nrm(25,"path",15),t.k0s()(),t.joV(),t.j41(26,"div",11)(27,"p",12),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.j41(30,"p",13),t.EFF(31),t.k0s()()()(),t.j41(32,"div",6)(33,"div",7)(34,"div",8),t.qSk(),t.j41(35,"svg",16),t.nrm(36,"path",17),t.k0s()(),t.joV(),t.j41(37,"div",11)(38,"p",12),t.EFF(39),t.nI1(40,"translate"),t.k0s(),t.j41(41,"p",13),t.EFF(42),t.k0s()()()(),t.j41(43,"div",6)(44,"div",7)(45,"div",8),t.qSk(),t.j41(46,"svg",18),t.nrm(47,"path",19),t.k0s()(),t.joV(),t.j41(48,"div",11)(49,"p",12),t.EFF(50),t.nI1(51,"translate"),t.k0s(),t.j41(52,"p",13),t.EFF(53),t.k0s()()()()(),t.j41(54,"div",6)(55,"h2",20),t.EFF(56),t.nI1(57,"translate"),t.k0s(),t.j41(58,"div",21),t.DNE(59,p,11,10,"div",22),t.k0s()(),t.j41(60,"div",6)(61,"h2",20),t.EFF(62),t.nI1(63,"translate"),t.k0s(),t.j41(64,"div",23)(65,"table",24)(66,"thead",25)(67,"tr")(68,"th",26),t.EFF(69),t.nI1(70,"translate"),t.k0s(),t.j41(71,"th",26),t.EFF(72),t.nI1(73,"translate"),t.k0s(),t.j41(74,"th",26),t.EFF(75),t.nI1(76,"translate"),t.k0s(),t.j41(77,"th",26),t.EFF(78),t.nI1(79,"translate"),t.k0s()()(),t.j41(80,"tbody",27),t.DNE(81,u,10,5,"tr",28)(82,b,4,3,"tr",29),t.k0s()()()()()),2&a){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,20,"DASHBOARD")," "),t.R7$(3),t.Lme(" ",t.bMT(7,22,"GAME_MANAGEMENT")," - ",t.bMT(8,24,"TEAM_INFORMATION")," "),t.R7$(11),t.JRh(t.bMT(18,26,"START_DATE")),t.R7$(3),t.JRh(e.formatStartDate()),t.R7$(8),t.JRh(t.bMT(29,28,"CURRENT_PLAYERS")),t.R7$(3),t.JRh(e.totalPlayers()),t.R7$(8),t.JRh(t.bMT(40,30,"WEAPON_REGISTRATION")),t.R7$(3),t.JRh(e.weapons().length),t.R7$(8),t.JRh(t.bMT(51,32,"MAX_PLAYERS")),t.R7$(3),t.JRh(e.adminSettings().max_participants),t.R7$(3),t.JRh(t.bMT(57,34,"TEAM_INFORMATION")),t.R7$(3),t.Y8G("ngForOf",e.teamStats()),t.R7$(3),t.JRh(t.bMT(63,36,"REGISTRATION")),t.R7$(7),t.JRh(t.bMT(70,38,"UID")),t.R7$(3),t.JRh(t.bMT(73,40,"GAME_NAME")),t.R7$(3),t.JRh(t.bMT(76,42,"TEAM")),t.R7$(3),t.JRh(t.bMT(79,44,"RANK")),t.R7$(3),t.Y8G("ngForOf",e.getRecentPlayers()),t.R7$(),t.Y8G("ngIf",0===e.players().length)}}let v=(()=>{class a{constructor(){this.gameService=(0,t.WQX)(g.w),this.authService=(0,t.WQX)(c.u),this.players=this.gameService.players,this.weapons=this.gameService.weapons,this.adminSettings=this.gameService.adminSettings,this.teamStats=this.gameService.teamStats,this.totalPlayers=this.gameService.totalPlayers,this.Math=Math}get auth(){return this.authService}ngOnInit(){}getRecentPlayers(){return this.players().slice(-5).reverse()}getAverageTeamPercentage(){const e=this.teamStats();return 0===e.length?0:e.reduce((d,x)=>d+x.percentage,0)/e.length}getTeamColor(e){switch(e){case"A":return"bg-red-500";case"B":return"bg-blue-500";case"C":return"bg-green-500";case"D":return"bg-purple-500";default:return"bg-gray-500"}}getTeamBadgeClass(e){switch(e){case"A":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"B":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"C":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"D":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}formatStartDate(){const e=this.adminSettings().start_date;return e?new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}):"N/A"}static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-dashboard"]],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","space-y-6 opacity-bg-main rounded-lg p-6 shadow-lg",4,"ngIf"],[1,"space-y-6","opacity-bg-main","rounded-lg","p-6","shadow-lg"],[1,"opacity-bg-header","shadow","rounded-lg","p-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"opacity-bg-card","shadow","rounded-lg","p-6"],[1,"flex","items-center"],[1,"p-3","rounded-full","opacity-bg-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"text-2xl","font-semibold","text-gray-900","dark:text-white"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","dark:text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600","dark:text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600","dark:text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["class","border border-gray-200 dark:border-gray-700 rounded-lg p-4 opacity-bg-main",4,"ngFor","ngForOf"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"opacity-bg-table-header"],[1,"table-header"],[1,"opacity-bg-table-body","divide-y","divide-gray-200","dark:divide-gray-700"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"border","border-gray-200","dark:border-gray-700","rounded-lg","p-4","opacity-bg-main"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"w-full","opacity-bg-progress","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],[1,"table-cell"],["class","px-2 py-1 text-xs font-medium rounded-full backdrop-blur-sm",3,"class",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","backdrop-blur-sm"],[1,"text-gray-400"],["colspan","5",1,"table-cell","text-center","text-gray-500","dark:text-gray-400"]],template:function(r,d){1&r&&t.DNE(0,k,83,46,"div",0),2&r&&t.Y8G("ngIf",d.auth.isAuthenticated())},dependencies:[i.MD,i.Sq,i.bT,l.h,l.D9],encapsulation:2})}}return a})()}}]);