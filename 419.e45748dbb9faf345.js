"use strict";(self.webpackChunkgame_management=self.webpackChunkgame_management||[]).push([[419],{7419:(R,b,m)=>{m.r(b),m.d(b,{TeamDetailsComponent:()=>F});var e=m(4438),h=m(177),o=m(7408),x=m(5036);function t(i,s){if(1&i&&(e.j41(0,"div",19)(1,"div",20)(2,"h3",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",22),e.EFF(6),e.k0s()(),e.j41(7,"div",23),e.nrm(8,"div",24),e.k0s(),e.j41(9,"p",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"div",26)(13,"p",27),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()),2&i){const a=s.$implicit,y=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,13,"TEAM_"+a.teamId)," "),e.R7$(2),e.HbH(y.getTeamTextColor(a.teamId)),e.R7$(),e.Lme(" ",a.playerCount,"/",a.maxPlayers," "),e.R7$(2),e.HbH(y.getTeamColor(a.teamId)),e.xc7("width",y.Math.min(a.percentage,100),"%"),e.R7$(2),e.Lme(" ",e.bMT(11,15,"TEAM_PERCENTAGE"),": ",a.percentage.toFixed(1),"% "),e.R7$(4),e.Lme(" ",e.bMT(15,17,"MAX_PLAYERS_PER_TEAM"),": ",a.maxPlayers," ")}}function n(i,s){if(1&i&&(e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"span",31),e.EFF(4),e.k0s()(),e.j41(5,"div")(6,"p",32),e.EFF(7),e.k0s(),e.j41(8,"p",27),e.EFF(9),e.k0s()()(),e.j41(10,"div",33)(11,"p",34),e.EFF(12),e.k0s(),e.j41(13,"p",27),e.EFF(14),e.k0s()()()),2&i){const a=s.$implicit;e.R7$(4),e.JRh(a.teamNumber||"?"),e.R7$(3),e.JRh(a.gameName),e.R7$(2),e.JRh(a.uid),e.R7$(3),e.JRh(a.rank),e.R7$(2),e.JRh(a.paymentAbility)}}function r(i,s){1&i&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"NO_PLAYERS")," "))}function p(i,s){if(1&i&&(e.j41(0,"div",28)(1,"div",29)(2,"div",36)(3,"span",37),e.EFF(4),e.k0s()(),e.j41(5,"div")(6,"p",32),e.EFF(7),e.k0s(),e.j41(8,"p",27),e.EFF(9),e.k0s()()(),e.j41(10,"div",33)(11,"p",34),e.EFF(12),e.k0s(),e.j41(13,"p",27),e.EFF(14),e.k0s()()()),2&i){const a=s.$implicit;e.R7$(4),e.JRh(a.teamNumber||"?"),e.R7$(3),e.JRh(a.gameName),e.R7$(2),e.JRh(a.uid),e.R7$(3),e.JRh(a.rank),e.R7$(2),e.JRh(a.paymentAbility)}}function u(i,s){1&i&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"NO_PLAYERS")," "))}function g(i,s){if(1&i&&(e.j41(0,"div",28)(1,"div",29)(2,"div",38)(3,"span",39),e.EFF(4),e.k0s()(),e.j41(5,"div")(6,"p",32),e.EFF(7),e.k0s(),e.j41(8,"p",27),e.EFF(9),e.k0s()()(),e.j41(10,"div",33)(11,"p",34),e.EFF(12),e.k0s(),e.j41(13,"p",27),e.EFF(14),e.k0s()()()),2&i){const a=s.$implicit;e.R7$(4),e.JRh(a.teamNumber||"?"),e.R7$(3),e.JRh(a.gameName),e.R7$(2),e.JRh(a.uid),e.R7$(3),e.JRh(a.rank),e.R7$(2),e.JRh(a.paymentAbility)}}function c(i,s){1&i&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"NO_PLAYERS")," "))}function l(i,s){if(1&i&&(e.j41(0,"div",28)(1,"div",29)(2,"div",40)(3,"span",41),e.EFF(4),e.k0s()(),e.j41(5,"div")(6,"p",32),e.EFF(7),e.k0s(),e.j41(8,"p",27),e.EFF(9),e.k0s()()(),e.j41(10,"div",33)(11,"p",34),e.EFF(12),e.k0s(),e.j41(13,"p",27),e.EFF(14),e.k0s()()()),2&i){const a=s.$implicit;e.R7$(4),e.JRh(a.teamNumber||"?"),e.R7$(3),e.JRh(a.gameName),e.R7$(2),e.JRh(a.uid),e.R7$(3),e.JRh(a.rank),e.R7$(2),e.JRh(a.paymentAbility)}}function f(i,s){1&i&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"NO_PLAYERS")," "))}function T(i,s){if(1&i&&(e.j41(0,"div",42)(1,"div",43)(2,"div")(3,"p",32),e.EFF(4),e.k0s(),e.j41(5,"p",27),e.EFF(6),e.k0s()(),e.j41(7,"div",33)(8,"p",34),e.EFF(9),e.k0s(),e.j41(10,"p",27),e.EFF(11),e.k0s()()()()),2&i){const a=s.$implicit;e.R7$(4),e.JRh(a.gameName),e.R7$(2),e.JRh(a.uid),e.R7$(3),e.JRh(a.rank),e.R7$(2),e.JRh(a.desiredTeam)}}function k(i,s){1&i&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"ALL_PLAYERS_ASSIGNED")," "))}let F=(()=>{class i{constructor(){this.gameService=(0,e.WQX)(x.w),this.players=this.gameService.players,this.teamStats=this.gameService.teamStats,this.Math=Math}getPlayersByTeam(a){return this.gameService.getPlayersByTeam(a)}getUnassignedPlayers(){return this.players().filter(a=>!a.team)}getTeamColor(a){switch(a){case"A":return"bg-red-500";case"B":return"bg-blue-500";case"C":return"bg-green-500";case"Joker":return"bg-purple-500";default:return"bg-gray-500"}}getTeamTextColor(a){switch(a){case"A":return"text-red-600 dark:text-red-400";case"B":return"text-blue-600 dark:text-blue-400";case"C":return"text-green-600 dark:text-green-400";case"Joker":return"text-purple-600 dark:text-purple-400";default:return"text-gray-600 dark:text-gray-400"}}static{this.\u0275fac=function(y){return new(y||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-team-details"]],standalone:!0,features:[e.aNF],decls:51,vars:36,consts:[[1,"space-y-6","bg-white/90","dark:bg-gray-900/90","backdrop-blur-sm","rounded-lg","p-6","shadow-lg"],[1,"bg-white/95","dark:bg-gray-800/95","backdrop-blur-sm","shadow","rounded-lg","p-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],["class","bg-white dark:bg-gray-800 shadow rounded-lg p-6",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4","flex","items-center"],[1,"w-4","h-4","bg-red-500/95","backdrop-blur-sm","rounded-full","mr-2"],[1,"space-y-2"],["class","flex items-center justify-between p-3 bg-gray-50/95 dark:bg-gray-700/95 backdrop-blur-sm rounded-lg",4,"ngFor","ngForOf"],["class","text-center py-8 text-gray-500 dark:text-gray-400",4,"ngIf"],[1,"w-4","h-4","bg-blue-500/95","backdrop-blur-sm","rounded-full","mr-2"],[1,"w-4","h-4","bg-green-500/95","backdrop-blur-sm","rounded-full","mr-2"],[1,"w-4","h-4","bg-purple-500/95","backdrop-blur-sm","rounded-full","mr-2"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","p-3 bg-gray-50/95 dark:bg-gray-700/95 backdrop-blur-sm rounded-lg",4,"ngFor","ngForOf"],["class","col-span-full text-center py-8 text-gray-500 dark:text-gray-400",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-2xl","font-bold"],[1,"w-full","bg-gray-200/95","dark:bg-gray-700/95","backdrop-blur-sm","rounded-full","h-3","mb-3"],[1,"h-3","rounded-full","transition-all","duration-300"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"mt-4"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","p-3","bg-gray-50/95","dark:bg-gray-700/95","backdrop-blur-sm","rounded-lg"],[1,"flex","items-center","space-x-3"],[1,"w-8","h-8","bg-red-100/95","dark:bg-red-900/95","backdrop-blur-sm","rounded-full","flex","items-center","justify-center"],[1,"text-xs","font-bold","text-red-800","dark:text-red-200"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-right"],[1,"text-sm","text-gray-900","dark:text-white"],[1,"text-center","py-8","text-gray-500","dark:text-gray-400"],[1,"w-8","h-8","bg-blue-100/95","dark:bg-blue-900/95","backdrop-blur-sm","rounded-full","flex","items-center","justify-center"],[1,"text-xs","font-bold","text-blue-800","dark:text-blue-200"],[1,"w-8","h-8","bg-green-100/95","dark:bg-green-900/95","backdrop-blur-sm","rounded-full","flex","items-center","justify-center"],[1,"text-xs","font-bold","text-green-800","dark:text-green-200"],[1,"w-8","h-8","bg-purple-100/95","dark:bg-purple-900/95","backdrop-blur-sm","rounded-full","flex","items-center","justify-center"],[1,"text-xs","font-bold","text-purple-800","dark:text-purple-200"],[1,"p-3","bg-gray-50/95","dark:bg-gray-700/95","backdrop-blur-sm","rounded-lg"],[1,"flex","items-center","justify-between"],[1,"col-span-full","text-center","py-8","text-gray-500","dark:text-gray-400"]],template:function(y,d){1&y&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",3),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",4),e.DNE(10,t,16,19,"div",5),e.k0s(),e.j41(11,"div",6)(12,"div",1)(13,"h3",7),e.nrm(14,"div",8),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"div",9),e.DNE(18,n,15,5,"div",10)(19,r,3,3,"div",11),e.k0s()(),e.j41(20,"div",1)(21,"h3",7),e.nrm(22,"div",12),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",9),e.DNE(26,p,15,5,"div",10)(27,u,3,3,"div",11),e.k0s()(),e.j41(28,"div",1)(29,"h3",7),e.nrm(30,"div",13),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"div",9),e.DNE(34,g,15,5,"div",10)(35,c,3,3,"div",11),e.k0s()(),e.j41(36,"div",1)(37,"h3",7),e.nrm(38,"div",14),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",9),e.DNE(42,l,15,5,"div",10)(43,f,3,3,"div",11),e.k0s()()(),e.j41(44,"div",1)(45,"h3",15),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"div",16),e.DNE(49,T,12,4,"div",17)(50,k,3,3,"div",18),e.k0s()()()),2&y&&(e.R7$(3),e.SpI(" ",e.bMT(4,20,"TEAM_INFORMATION")," "),e.R7$(3),e.Lme(" ",e.bMT(7,22,"TEAM_DETAILS")," - ",e.bMT(8,24,"GAME_MANAGEMENT")," "),e.R7$(4),e.Y8G("ngForOf",d.teamStats()),e.R7$(5),e.SpI(" ",e.bMT(16,26,"TEAM_A")," "),e.R7$(3),e.Y8G("ngForOf",d.getPlayersByTeam("A")),e.R7$(),e.Y8G("ngIf",0===d.getPlayersByTeam("A").length),e.R7$(4),e.SpI(" ",e.bMT(24,28,"TEAM_B")," "),e.R7$(3),e.Y8G("ngForOf",d.getPlayersByTeam("B")),e.R7$(),e.Y8G("ngIf",0===d.getPlayersByTeam("B").length),e.R7$(4),e.SpI(" ",e.bMT(32,30,"TEAM_C")," "),e.R7$(3),e.Y8G("ngForOf",d.getPlayersByTeam("C")),e.R7$(),e.Y8G("ngIf",0===d.getPlayersByTeam("C").length),e.R7$(4),e.SpI(" ",e.bMT(40,32,"TEAM_JOKER")," "),e.R7$(3),e.Y8G("ngForOf",d.getPlayersByTeam("Joker")),e.R7$(),e.Y8G("ngIf",0===d.getPlayersByTeam("Joker").length),e.R7$(3),e.Lme(" ",e.bMT(47,34,"UNASSIGNED_PLAYERS")," (",d.getUnassignedPlayers().length,") "),e.R7$(3),e.Y8G("ngForOf",d.getUnassignedPlayers()),e.R7$(),e.Y8G("ngIf",0===d.getUnassignedPlayers().length))},dependencies:[h.MD,h.Sq,h.bT,o.h,o.D9],encapsulation:2})}}return i})()},5036:(R,b,m)=>{m.d(b,{w:()=>h});var e=m(4438);let h=(()=>{class o{constructor(){this._players=(0,e.vPA)([]),this._weapons=(0,e.vPA)([]),this._adminSettings=(0,e.vPA)({adminPassword:"",gameStartDate:new Date,maxPlayers:40,gameStatus:"pending"}),this.players=this._players.asReadonly(),this.weapons=this._weapons.asReadonly(),this.adminSettings=this._adminSettings.asReadonly(),this.teamStats=(0,e.EWP)(()=>{const t=this._players(),r=this._adminSettings().maxPlayers/4,p=t.filter(l=>"A"===l.team).length,u=t.filter(l=>"B"===l.team).length,g=t.filter(l=>"C"===l.team).length,c=t.filter(l=>"Joker"===l.team).length;return[{teamId:"A",playerCount:p,maxPlayers:r,percentage:p/r*100},{teamId:"B",playerCount:u,maxPlayers:r,percentage:u/r*100},{teamId:"C",playerCount:g,maxPlayers:r,percentage:g/r*100},{teamId:"Joker",playerCount:c,maxPlayers:r,percentage:c/r*100}]}),this.totalPlayers=(0,e.EWP)(()=>this._players().length),this.initializeDefaultData()}initializeDefaultData(){this._players.set([{uid:"UID001",gameName:"PlayerAlpha",rank:"Gold",paymentAbility:"High",identity:"Real",referrer:"Friend",language:"Thai",desiredTeam:"A",team:"A",teamNumber:1,coordinates:{x:100,y:150},weaponType:"Bow",position:"Archer",paymentRange:"High"},{uid:"UID002",gameName:"PlayerBeta",rank:"Silver",paymentAbility:"Medium",identity:"Real",referrer:"Social Media",language:"Thai",desiredTeam:"B",team:"B",teamNumber:2,coordinates:{x:250,y:200},weaponType:"Spear",position:"Lancer",paymentRange:"Medium"},{uid:"UID003",gameName:"PlayerGamma",rank:"Platinum",paymentAbility:"High",identity:"Real",referrer:"Website",language:"English",desiredTeam:"C",team:"C",teamNumber:3,coordinates:{x:400,y:300},weaponType:"Shield",position:"Defender",paymentRange:"High"},{uid:"UID004",gameName:"PlayerDelta",rank:"Diamond",paymentAbility:"Very High",identity:"Real",referrer:"Friend",language:"Thai",desiredTeam:"Joker",team:"Joker",teamNumber:4,coordinates:{x:500,y:450},weaponType:"Horse",position:"Rider",paymentRange:"Very High"},{uid:"UID005",gameName:"PlayerEcho",rank:"Master",paymentAbility:"High",identity:"Real",referrer:"Social Media",language:"English",desiredTeam:"A",team:"A",teamNumber:5,coordinates:{x:150,y:350},weaponType:"Bow",position:"Archer",paymentRange:"High"},{uid:"UID006",gameName:"PlayerFoxtrot",rank:"Gold",paymentAbility:"Medium",identity:"Real",referrer:"Website",language:"Thai",desiredTeam:"B",team:"B",teamNumber:6,coordinates:{x:300,y:100},weaponType:"Spear",position:"Lancer",paymentRange:"Medium"},{uid:"UID007",gameName:"PlayerGolf",rank:"Silver",paymentAbility:"Low",identity:"Real",referrer:"Friend",language:"Thai",desiredTeam:"C",team:"C",teamNumber:7,coordinates:{x:450,y:250},weaponType:"Shield",position:"Defender",paymentRange:"Low"},{uid:"UID008",gameName:"PlayerHotel",rank:"Platinum",paymentAbility:"High",identity:"Real",referrer:"Social Media",language:"English",desiredTeam:"Joker",team:"Joker",teamNumber:8,coordinates:{x:200,y:500},weaponType:"Horse",position:"Rider",paymentRange:"High"},{uid:"UID009",gameName:"PlayerIndia",rank:"Diamond",paymentAbility:"Very High",identity:"Real",referrer:"Website",language:"Thai",desiredTeam:"A",team:"A",teamNumber:9,coordinates:{x:350,y:400},weaponType:"Bow",position:"Archer",paymentRange:"Very High"},{uid:"UID010",gameName:"PlayerJuliet",rank:"Master",paymentAbility:"High",identity:"Real",referrer:"Friend",language:"English",desiredTeam:"B",team:"B",teamNumber:10,coordinates:{x:550,y:150},weaponType:"Spear",position:"Lancer",paymentRange:"High"}]),this._weapons.set([{uid:"UID001",x:100,y:150,coordinates:{x:100,y:150},weaponType:"Bow",position:"Archer",gameName:"PlayerAlpha",paymentRange:"High",identity:"Real",language:"Thai",team:"A",teamNumber:1},{uid:"UID002",x:250,y:200,coordinates:{x:250,y:200},weaponType:"Spear",position:"Lancer",gameName:"PlayerBeta",paymentRange:"Medium",identity:"Real",language:"Thai",team:"B",teamNumber:2},{uid:"UID003",x:400,y:300,coordinates:{x:400,y:300},weaponType:"Shield",position:"Defender",gameName:"PlayerGamma",paymentRange:"High",identity:"Real",language:"English",team:"C",teamNumber:3},{uid:"UID004",x:500,y:450,coordinates:{x:500,y:450},weaponType:"Horse",position:"Rider",gameName:"PlayerDelta",paymentRange:"Very High",identity:"Real",language:"Thai",team:"Joker",teamNumber:4},{uid:"UID005",x:150,y:350,coordinates:{x:150,y:350},weaponType:"Bow",position:"Archer",gameName:"PlayerEcho",paymentRange:"High",identity:"Real",language:"English",team:"A",teamNumber:5},{uid:"UID006",x:300,y:100,coordinates:{x:300,y:100},weaponType:"Spear",position:"Lancer",gameName:"PlayerFoxtrot",paymentRange:"Medium",identity:"Real",language:"Thai",team:"B",teamNumber:6},{uid:"UID007",x:450,y:250,coordinates:{x:450,y:250},weaponType:"Shield",position:"Defender",gameName:"PlayerGolf",paymentRange:"Low",identity:"Real",language:"Thai",team:"C",teamNumber:7},{uid:"UID008",x:200,y:500,coordinates:{x:200,y:500},weaponType:"Horse",position:"Rider",gameName:"PlayerHotel",paymentRange:"High",identity:"Real",language:"English",team:"Joker",teamNumber:8},{uid:"UID009",x:350,y:400,coordinates:{x:350,y:400},weaponType:"Bow",position:"Archer",gameName:"PlayerIndia",paymentRange:"Very High",identity:"Real",language:"Thai",team:"A",teamNumber:9},{uid:"UID010",x:550,y:150,coordinates:{x:550,y:150},weaponType:"Spear",position:"Lancer",gameName:"PlayerJuliet",paymentRange:"High",identity:"Real",language:"English",team:"B",teamNumber:10}])}addPlayer(t){const n={...t,team:void 0,teamNumber:void 0,coordinates:void 0,weaponType:void 0,position:void 0,paymentRange:void 0};this._players.update(r=>[...r,n])}updatePlayerWithWeapon(t){const n=this._players().findIndex(r=>r.uid===t.uid);if(-1!==n){const r=this._players()[n],p={...r,team:t.team,teamNumber:t.teamNumber,coordinates:{x:t.x,y:t.y},weaponType:t.weaponType,position:t.position,paymentRange:r.paymentAbility};this._players.update(g=>g.map((c,l)=>l===n?p:c));const u={uid:t.uid,x:t.x,y:t.y,coordinates:{x:t.x,y:t.y},weaponType:t.weaponType,position:t.position,gameName:r.gameName,paymentRange:r.paymentAbility,identity:r.identity,language:r.language,team:t.team,teamNumber:t.teamNumber};this._weapons.update(g=>[...g,u])}}removePlayer(t){this._players.update(n=>n.filter(r=>r.uid!==t)),this._weapons.update(n=>n.filter(r=>r.uid!==t))}updateAdminSettings(t){this._adminSettings.update(n=>({...n,...t}))}getPlayersByTeam(t){return this._players().filter(n=>n.team===t)}getWeaponByUID(t){return this._weapons().find(n=>n.uid===t)}isUIDExists(t){return this._players().some(n=>n.uid===t)}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()}}]);