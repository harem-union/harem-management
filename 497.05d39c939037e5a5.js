"use strict";(self.webpackChunkgame_management=self.webpackChunkgame_management||[]).push([[497],{8497:(v,u,i)=>{i.r(u),i.d(u,{AdminSettingsComponent:()=>E});var t=i(4438),l=i(177),n=i(9417),p=i(7408),b=i(5036);function S(r,o){1&r&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"VALIDATION.REQUIRED")," "))}function k(r,o){1&r&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"VALIDATION.REQUIRED")," "))}function h(r,o){1&r&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"VALIDATION.REQUIRED")," "))}function c(r,o){if(1&r&&(t.j41(0,"div",44)(1,"div",45)(2,"h3",46),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"span",47),t.EFF(6),t.k0s()(),t.j41(7,"div",48),t.nrm(8,"div",49),t.k0s(),t.j41(9,"p",50),t.EFF(10),t.k0s()()),2&r){const e=o.$implicit,s=t.XpG();t.R7$(3),t.JRh(t.bMT(4,8,"TEAM_"+e.teamId)),t.R7$(3),t.Lme("",e.playerCount,"/",e.maxPlayers,""),t.R7$(2),t.HbH(s.getTeamColor(e.teamId)),t.xc7("width",s.Math.min(e.percentage,100),"%"),t.R7$(2),t.SpI("",e.percentage.toFixed(1),"%")}}let E=(()=>{class r{constructor(){this.gameService=(0,t.WQX)(b.w),this.fb=(0,t.WQX)(n.ok),this.adminSettings=this.gameService.adminSettings,this.players=this.gameService.players,this.weapons=this.gameService.weapons,this.teamStats=this.gameService.teamStats,this.totalPlayers=this.gameService.totalPlayers,this.Math=Math,this.adminForm=this.fb.group({adminPassword:["",[n.k0.required,n.k0.minLength(6)]],gameStartDate:["",[n.k0.required]],maxPlayers:["",[n.k0.required]]}),this.loadCurrentSettings()}loadCurrentSettings(){const e=this.adminSettings();this.adminForm.patchValue({adminPassword:e.adminPassword||"",gameStartDate:e.gameStartDate?new Date(e.gameStartDate).toISOString().slice(0,16):"",maxPlayers:e.maxPlayers||""})}onSubmit(){if(this.adminForm.valid){const e=this.adminForm.value,s=parseInt(e.maxPlayers);this.gameService.updateAdminSettings({adminPassword:e.adminPassword,gameStartDate:new Date(e.gameStartDate),maxPlayers:s,gameStatus:this.adminSettings().gameStatus}),alert("Settings updated successfully!")}}resetForm(){this.loadCurrentSettings()}getGameStatusText(e){switch(e){case"pending":return"GAME_STATUS_PENDING";case"active":return"GAME_STATUS_ACTIVE";case"completed":return"GAME_STATUS_COMPLETED";default:return"GAME_STATUS_UNKNOWN"}}getActiveTeamCount(){return this.teamStats().filter(e=>e.playerCount>0).length}getTeamColor(e){switch(e){case"A":return"bg-red-500";case"B":return"bg-blue-500";case"C":return"bg-green-500";case"Joker":return"bg-purple-500";default:return"bg-gray-500"}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-settings"]],standalone:!0,features:[t.aNF],decls:126,vars:78,consts:[[1,"space-y-6","bg-white/90","dark:bg-gray-900/90","backdrop-blur-sm","rounded-lg","p-6","shadow-lg"],[1,"bg-white/95","dark:bg-gray-800/95","backdrop-blur-sm","shadow","rounded-lg","p-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","p-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","password","formControlName","adminPassword",1,"form-input","bg-white/95","dark:bg-gray-700/95","backdrop-blur-sm",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","datetime-local","formControlName","gameStartDate",1,"form-input","bg-white/95","dark:bg-gray-700/95","backdrop-blur-sm"],["formControlName","maxPlayers",1,"form-select","bg-white/95","dark:bg-gray-700/95","backdrop-blur-sm"],["value",""],["value","40"],["value","80"],["value","120"],[1,"flex","justify-end","space-x-3"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"p-4","bg-gray-50/95","dark:bg-gray-700/95","backdrop-blur-sm","rounded-lg"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"flex","items-center"],[1,"p-3","rounded-full","bg-blue-100/95","dark:bg-blue-900/95","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","dark:text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"text-2xl","font-semibold","text-gray-900","dark:text-white"],[1,"p-3","rounded-full","bg-green-100/95","dark:bg-green-900/95","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600","dark:text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","rounded-full","bg-yellow-100/95","dark:bg-yellow-900/95","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600","dark:text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","rounded-full","bg-purple-100/95","dark:bg-purple-900/95","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["class","border border-gray-200 dark:border-gray-700 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"text-red-500","text-sm","mt-1"],[1,"border","border-gray-200","dark:border-gray-700","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"]],template:function(s,a){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p",3),t.EFF(6),t.nI1(7,"translate"),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"div",4)(10,"h2",5),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"form",6),t.bIt("ngSubmit",function(){return a.onSubmit()}),t.j41(14,"div",7)(15,"div")(16,"label",8),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.nrm(19,"input",9),t.nI1(20,"translate"),t.DNE(21,S,3,3,"div",10),t.k0s(),t.j41(22,"div")(23,"label",8),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.nrm(26,"input",11),t.DNE(27,k,3,3,"div",10),t.k0s(),t.j41(28,"div")(29,"label",8),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.j41(32,"select",12)(33,"option",13),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"option",14),t.EFF(37,"40"),t.k0s(),t.j41(38,"option",15),t.EFF(39,"80"),t.k0s(),t.j41(40,"option",16),t.EFF(41,"120"),t.k0s()(),t.DNE(42,h,3,3,"div",10),t.k0s()(),t.j41(43,"div",17)(44,"button",18),t.bIt("click",function(){return a.resetForm()}),t.EFF(45),t.nI1(46,"translate"),t.k0s(),t.j41(47,"button",19),t.EFF(48),t.nI1(49,"translate"),t.k0s()()()(),t.j41(50,"div",1)(51,"h2",5),t.EFF(52),t.nI1(53,"translate"),t.k0s(),t.j41(54,"div",20)(55,"div",21)(56,"p",22),t.EFF(57),t.nI1(58,"translate"),t.k0s(),t.j41(59,"p",23),t.EFF(60),t.k0s()(),t.j41(61,"div",21)(62,"p",22),t.EFF(63),t.nI1(64,"translate"),t.k0s(),t.j41(65,"p",23),t.EFF(66),t.nI1(67,"date"),t.k0s()(),t.j41(68,"div",21)(69,"p",22),t.EFF(70),t.nI1(71,"translate"),t.k0s(),t.j41(72,"p",23),t.EFF(73),t.k0s()()()(),t.j41(74,"div",24)(75,"div",1)(76,"div",25)(77,"div",26),t.qSk(),t.j41(78,"svg",27),t.nrm(79,"path",28),t.k0s()(),t.joV(),t.j41(80,"div",29)(81,"p",30),t.EFF(82),t.nI1(83,"translate"),t.k0s(),t.j41(84,"p",31),t.EFF(85),t.k0s()()()(),t.j41(86,"div",1)(87,"div",25)(88,"div",32),t.qSk(),t.j41(89,"svg",33),t.nrm(90,"path",34),t.k0s()(),t.joV(),t.j41(91,"div",29)(92,"p",30),t.EFF(93),t.nI1(94,"translate"),t.k0s(),t.j41(95,"p",31),t.EFF(96),t.k0s()()()(),t.j41(97,"div",1)(98,"div",25)(99,"div",35),t.qSk(),t.j41(100,"svg",36),t.nrm(101,"path",37),t.k0s()(),t.joV(),t.j41(102,"div",29)(103,"p",30),t.EFF(104),t.nI1(105,"translate"),t.k0s(),t.j41(106,"p",31),t.EFF(107),t.nI1(108,"translate"),t.k0s()()()(),t.j41(109,"div",1)(110,"div",25)(111,"div",38),t.qSk(),t.j41(112,"svg",39),t.nrm(113,"path",40),t.k0s()(),t.joV(),t.j41(114,"div",29)(115,"p",30),t.EFF(116),t.nI1(117,"translate"),t.k0s(),t.j41(118,"p",31),t.EFF(119),t.k0s()()()()(),t.j41(120,"div",4)(121,"h2",5),t.EFF(122),t.nI1(123,"translate"),t.k0s(),t.j41(124,"div",41),t.DNE(125,c,11,10,"div",42),t.k0s()()()),2&s){let d,m,g;t.R7$(3),t.SpI(" ",t.bMT(4,33,"ADMIN_SETTINGS")," "),t.R7$(3),t.Lme(" ",t.bMT(7,35,"ADMIN_SETTINGS")," - ",t.bMT(8,37,"GAME_MANAGEMENT")," "),t.R7$(5),t.JRh(t.bMT(12,39,"ADMIN_SETTINGS")),t.R7$(2),t.Y8G("formGroup",a.adminForm),t.R7$(4),t.SpI(" ",t.bMT(18,41,"ADMIN_PASSWORD")," * "),t.R7$(2),t.Y8G("placeholder",t.bMT(20,43,"ADMIN_PASSWORD")),t.R7$(2),t.Y8G("ngIf",(null==(d=a.adminForm.get("adminPassword"))?null:d.invalid)&&(null==(d=a.adminForm.get("adminPassword"))?null:d.touched)),t.R7$(3),t.SpI(" ",t.bMT(25,45,"GAME_START_DATE")," * "),t.R7$(3),t.Y8G("ngIf",(null==(m=a.adminForm.get("gameStartDate"))?null:m.invalid)&&(null==(m=a.adminForm.get("gameStartDate"))?null:m.touched)),t.R7$(3),t.SpI(" ",t.bMT(31,47,"MAX_PLAYERS")," * "),t.R7$(4),t.JRh(t.bMT(35,49,"MAX_PLAYERS")),t.R7$(8),t.Y8G("ngIf",(null==(g=a.adminForm.get("maxPlayers"))?null:g.invalid)&&(null==(g=a.adminForm.get("maxPlayers"))?null:g.touched)),t.R7$(3),t.SpI(" ",t.bMT(46,51,"RESET")," "),t.R7$(2),t.Y8G("disabled",a.adminForm.invalid),t.R7$(),t.SpI(" ",t.bMT(49,53,"SAVE")," "),t.R7$(4),t.JRh(t.bMT(53,55,"CURRENT_SETTINGS")),t.R7$(5),t.JRh(t.bMT(58,57,"ADMIN_PASSWORD")),t.R7$(3),t.SpI(" ",a.adminSettings().adminPassword?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":"Not Set"," "),t.R7$(3),t.JRh(t.bMT(64,59,"GAME_START_DATE")),t.R7$(3),t.SpI(" ",a.adminSettings().gameStartDate?t.i5U(67,61,a.adminSettings().gameStartDate,"medium"):"Not Set"," "),t.R7$(4),t.JRh(t.bMT(71,64,"MAX_PLAYERS")),t.R7$(3),t.SpI(" ",a.adminSettings().maxPlayers||"Not Set"," "),t.R7$(9),t.JRh(t.bMT(83,66,"TOTAL_PLAYERS")),t.R7$(3),t.JRh(a.totalPlayers()),t.R7$(8),t.JRh(t.bMT(94,68,"WEAPON_REGISTRATION")),t.R7$(3),t.JRh(a.weapons().length),t.R7$(8),t.JRh(t.bMT(105,70,"GAME_STATUS")),t.R7$(3),t.SpI(" ",t.bMT(108,72,a.getGameStatusText(a.adminSettings().gameStatus))," "),t.R7$(9),t.JRh(t.bMT(117,74,"TEAM_COUNT")),t.R7$(3),t.JRh(a.getActiveTeamCount()),t.R7$(3),t.JRh(t.bMT(123,76,"TEAM_DISTRIBUTION")),t.R7$(3),t.Y8G("ngForOf",a.teamStats())}},dependencies:[l.MD,l.Sq,l.bT,l.vh,n.X1,n.qT,n.xH,n.y7,n.me,n.wz,n.BC,n.cb,n.j4,n.JD,p.h,p.D9],encapsulation:2})}}return r})()}}]);