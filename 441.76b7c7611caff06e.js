"use strict";(self.webpackChunkgame_management=self.webpackChunkgame_management||[]).push([[441],{4441:(c,h,o)=>{o.r(h),o.d(h,{DashboardComponent:()=>g});var e=o(4438),u=o(177),m=o(7408),b=o(5036);function a(i,s){if(1&i&&(e.j41(0,"div",32)(1,"div",33)(2,"h3",34),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"span",35),e.EFF(6),e.k0s()(),e.j41(7,"div",36),e.nrm(8,"div",37),e.k0s(),e.j41(9,"p",38),e.EFF(10),e.k0s()()),2&i){const t=s.$implicit,d=e.XpG();e.R7$(3),e.JRh(e.bMT(4,8,"TEAM_"+t.teamId)),e.R7$(3),e.Lme("",t.playerCount,"/",t.maxPlayers,""),e.R7$(2),e.HbH(d.getTeamColor(t.teamId)),e.xc7("width",d.Math.min(t.percentage,100),"%"),e.R7$(2),e.SpI("",t.percentage.toFixed(1),"%")}}function n(i,s){if(1&i&&(e.j41(0,"span",43),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i){const t=e.XpG().$implicit,d=e.XpG();e.HbH(d.getTeamBadgeClass(t.team)),e.R7$(),e.SpI(" ",e.bMT(2,3,"TEAM_"+t.team)," ")}}function r(i,s){1&i&&(e.j41(0,"span",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.JRh(e.bMT(2,1,"NO_TEAM")))}function p(i,s){if(1&i&&(e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.DNE(6,n,3,5,"span",40)(7,r,3,3,"span",41),e.k0s(),e.j41(8,"td",39),e.EFF(9),e.k0s(),e.j41(10,"td",39)(11,"span",42),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()),2&i){const t=s.$implicit;e.R7$(2),e.JRh(t.uid),e.R7$(2),e.JRh(t.gameName),e.R7$(2),e.Y8G("ngIf",t.team),e.R7$(),e.Y8G("ngIf",!t.team),e.R7$(2),e.JRh(t.rank),e.R7$(3),e.SpI(" ","th"===t.language?"THAI":e.bMT(13,6,"ENGLISH")," ")}}function y(i,s){1&i&&(e.j41(0,"tr")(1,"td",45),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&i&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"NO_PLAYERS")," "))}let g=(()=>{class i{constructor(){this.gameService=(0,e.WQX)(b.w),this.players=this.gameService.players,this.weapons=this.gameService.weapons,this.adminSettings=this.gameService.adminSettings,this.teamStats=this.gameService.teamStats,this.totalPlayers=this.gameService.totalPlayers,this.Math=Math}getRecentPlayers(){return this.players().slice(-5).reverse()}getAverageTeamPercentage(){const t=this.teamStats();return 0===t.length?0:t.reduce((l,k)=>l+k.percentage,0)/t.length}getTeamColor(t){switch(t){case"A":return"bg-red-500";case"B":return"bg-blue-500";case"C":return"bg-green-500";case"Joker":return"bg-purple-500";default:return"bg-gray-500"}}getTeamBadgeClass(t){switch(t){case"A":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"B":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"C":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Joker":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}static{this.\u0275fac=function(d){return new(d||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[e.aNF],decls:86,vars:49,consts:[[1,"space-y-6","bg-white/5","dark:bg-gray-900/5","backdrop-blur-sm","rounded-lg","p-6","shadow-lg"],[1,"bg-white/10","dark:bg-gray-800/10","backdrop-blur-sm","shadow","rounded-lg","p-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","p-6"],[1,"flex","items-center"],[1,"p-3","rounded-full","bg-blue-100","dark:bg-blue-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600","dark:text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"text-2xl","font-semibold","text-gray-900","dark:text-white"],[1,"p-3","rounded-full","bg-green-100/20","dark:bg-green-900/20","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600","dark:text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"p-3","rounded-full","bg-yellow-100/20","dark:bg-yellow-900/20","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600","dark:text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"p-3","rounded-full","bg-purple-100/20","dark:bg-purple-900/20","backdrop-blur-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["class","border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white/8 dark:bg-gray-800/8 backdrop-blur-sm",4,"ngFor","ngForOf"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50/20","dark:bg-gray-700/20","backdrop-blur-sm"],[1,"table-header"],[1,"bg-white/10","dark:bg-gray-800/10","backdrop-blur-sm","divide-y","divide-gray-200","dark:divide-gray-700"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"border","border-gray-200","dark:border-gray-700","rounded-lg","p-4","bg-white/8","dark:bg-gray-800/8","backdrop-blur-sm"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"w-full","bg-gray-200/20","dark:bg-gray-700/20","backdrop-blur-sm","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],[1,"table-cell"],["class","px-2 py-1 text-xs font-medium rounded-full backdrop-blur-sm",3,"class",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","bg-gray-100/20","dark:bg-gray-700/20","backdrop-blur-sm","text-gray-800","dark:text-gray-200"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","backdrop-blur-sm"],[1,"text-gray-400"],["colspan","5",1,"table-cell","text-center","text-gray-500","dark:text-gray-400"]],template:function(d,l){1&d&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",3),e.EFF(6),e.nI1(7,"translate"),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7),e.qSk(),e.j41(13,"svg",8),e.nrm(14,"path",9),e.k0s()(),e.joV(),e.j41(15,"div",10)(16,"p",11),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"p",12),e.EFF(20),e.k0s()()()(),e.j41(21,"div",1)(22,"div",6)(23,"div",13),e.qSk(),e.j41(24,"svg",14),e.nrm(25,"path",15),e.k0s()(),e.joV(),e.j41(26,"div",10)(27,"p",11),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"p",12),e.EFF(31),e.k0s()()()(),e.j41(32,"div",1)(33,"div",6)(34,"div",16),e.qSk(),e.j41(35,"svg",17),e.nrm(36,"path",18),e.k0s()(),e.joV(),e.j41(37,"div",10)(38,"p",11),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.j41(41,"p",12),e.EFF(42),e.k0s()()()(),e.j41(43,"div",1)(44,"div",6)(45,"div",19),e.qSk(),e.j41(46,"svg",20),e.nrm(47,"path",21),e.k0s()(),e.joV(),e.j41(48,"div",10)(49,"p",11),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"p",12),e.EFF(53),e.k0s()()()()(),e.j41(54,"div",1)(55,"h2",22),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"div",23),e.DNE(59,a,11,10,"div",24),e.k0s()(),e.j41(60,"div",1)(61,"h2",22),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"div",25)(65,"table",26)(66,"thead",27)(67,"tr")(68,"th",28),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.j41(71,"th",28),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.j41(74,"th",28),e.EFF(75),e.nI1(76,"translate"),e.k0s(),e.j41(77,"th",28),e.EFF(78),e.nI1(79,"translate"),e.k0s(),e.j41(80,"th",28),e.EFF(81),e.nI1(82,"translate"),e.k0s()()(),e.j41(83,"tbody",29),e.DNE(84,p,14,8,"tr",30)(85,y,4,3,"tr",31),e.k0s()()()()()),2&d&&(e.R7$(3),e.SpI(" ",e.bMT(4,21,"DASHBOARD")," "),e.R7$(3),e.Lme(" ",e.bMT(7,23,"GAME_MANAGEMENT")," - ",e.bMT(8,25,"TEAM_INFORMATION")," "),e.R7$(11),e.JRh(e.bMT(18,27,"CURRENT_PLAYERS")),e.R7$(3),e.JRh(l.totalPlayers()),e.R7$(8),e.JRh(e.bMT(29,29,"MAX_PLAYERS")),e.R7$(3),e.JRh(l.adminSettings().maxPlayers),e.R7$(8),e.JRh(e.bMT(40,31,"WEAPON_REGISTRATION")),e.R7$(3),e.JRh(l.weapons().length),e.R7$(8),e.JRh(e.bMT(51,33,"TEAM_PERCENTAGE")),e.R7$(3),e.SpI("",l.getAverageTeamPercentage(),"%"),e.R7$(3),e.JRh(e.bMT(57,35,"TEAM_INFORMATION")),e.R7$(3),e.Y8G("ngForOf",l.teamStats()),e.R7$(3),e.JRh(e.bMT(63,37,"REGISTRATION")),e.R7$(7),e.JRh(e.bMT(70,39,"UID")),e.R7$(3),e.JRh(e.bMT(73,41,"GAME_NAME")),e.R7$(3),e.JRh(e.bMT(76,43,"TEAM")),e.R7$(3),e.JRh(e.bMT(79,45,"RANK")),e.R7$(3),e.JRh(e.bMT(82,47,"LANGUAGE")),e.R7$(3),e.Y8G("ngForOf",l.getRecentPlayers()),e.R7$(),e.Y8G("ngIf",0===l.players().length))},dependencies:[u.MD,u.Sq,u.bT,m.h,m.D9],encapsulation:2})}}return i})()},5036:(c,h,o)=>{o.d(h,{w:()=>u});var e=o(4438);let u=(()=>{class m{constructor(){this._players=(0,e.vPA)([]),this._weapons=(0,e.vPA)([]),this._adminSettings=(0,e.vPA)({adminPassword:"",gameStartDate:new Date,maxPlayers:40,gameStatus:"pending"}),this.players=this._players.asReadonly(),this.weapons=this._weapons.asReadonly(),this.adminSettings=this._adminSettings.asReadonly(),this.teamStats=(0,e.EWP)(()=>{const a=this._players(),r=this._adminSettings().maxPlayers/4,p=a.filter(s=>"A"===s.team).length,y=a.filter(s=>"B"===s.team).length,g=a.filter(s=>"C"===s.team).length,i=a.filter(s=>"Joker"===s.team).length;return[{teamId:"A",playerCount:p,maxPlayers:r,percentage:p/r*100},{teamId:"B",playerCount:y,maxPlayers:r,percentage:y/r*100},{teamId:"C",playerCount:g,maxPlayers:r,percentage:g/r*100},{teamId:"Joker",playerCount:i,maxPlayers:r,percentage:i/r*100}]}),this.totalPlayers=(0,e.EWP)(()=>this._players().length),this.initializeDefaultData()}initializeDefaultData(){this._players.set([{uid:"UID001",gameName:"PlayerAlpha",rank:"Gold",paymentAbility:"High",identity:"Real",referrer:"Friend",language:"Thai",desiredTeam:"A",team:"A",teamNumber:1,coordinates:{x:100,y:150},weaponType:"Bow",position:"Archer",paymentRange:"High"},{uid:"UID002",gameName:"PlayerBeta",rank:"Silver",paymentAbility:"Medium",identity:"Real",referrer:"Social Media",language:"Thai",desiredTeam:"B",team:"B",teamNumber:2,coordinates:{x:250,y:200},weaponType:"Spear",position:"Lancer",paymentRange:"Medium"},{uid:"UID003",gameName:"PlayerGamma",rank:"Platinum",paymentAbility:"High",identity:"Real",referrer:"Website",language:"English",desiredTeam:"C",team:"C",teamNumber:3,coordinates:{x:400,y:300},weaponType:"Shield",position:"Defender",paymentRange:"High"},{uid:"UID004",gameName:"PlayerDelta",rank:"Diamond",paymentAbility:"Very High",identity:"Real",referrer:"Friend",language:"Thai",desiredTeam:"Joker",team:"Joker",teamNumber:4,coordinates:{x:500,y:450},weaponType:"Horse",position:"Rider",paymentRange:"Very High"},{uid:"UID005",gameName:"PlayerEcho",rank:"Master",paymentAbility:"High",identity:"Real",referrer:"Social Media",language:"English",desiredTeam:"A",team:"A",teamNumber:5,coordinates:{x:150,y:350},weaponType:"Bow",position:"Archer",paymentRange:"High"},{uid:"UID006",gameName:"PlayerFoxtrot",rank:"Gold",paymentAbility:"Medium",identity:"Real",referrer:"Website",language:"Thai",desiredTeam:"B",team:"B",teamNumber:6,coordinates:{x:300,y:100},weaponType:"Spear",position:"Lancer",paymentRange:"Medium"},{uid:"UID007",gameName:"PlayerGolf",rank:"Silver",paymentAbility:"Low",identity:"Real",referrer:"Friend",language:"Thai",desiredTeam:"C",team:"C",teamNumber:7,coordinates:{x:450,y:250},weaponType:"Shield",position:"Defender",paymentRange:"Low"},{uid:"UID008",gameName:"PlayerHotel",rank:"Platinum",paymentAbility:"High",identity:"Real",referrer:"Social Media",language:"English",desiredTeam:"Joker",team:"Joker",teamNumber:8,coordinates:{x:200,y:500},weaponType:"Horse",position:"Rider",paymentRange:"High"},{uid:"UID009",gameName:"PlayerIndia",rank:"Diamond",paymentAbility:"Very High",identity:"Real",referrer:"Website",language:"Thai",desiredTeam:"A",team:"A",teamNumber:9,coordinates:{x:350,y:400},weaponType:"Bow",position:"Archer",paymentRange:"Very High"},{uid:"UID010",gameName:"PlayerJuliet",rank:"Master",paymentAbility:"High",identity:"Real",referrer:"Friend",language:"English",desiredTeam:"B",team:"B",teamNumber:10,coordinates:{x:550,y:150},weaponType:"Spear",position:"Lancer",paymentRange:"High"}]),this._weapons.set([{uid:"UID001",x:100,y:150,coordinates:{x:100,y:150},weaponType:"Bow",position:"Archer",gameName:"PlayerAlpha",paymentRange:"High",identity:"Real",language:"Thai",team:"A",teamNumber:1},{uid:"UID002",x:250,y:200,coordinates:{x:250,y:200},weaponType:"Spear",position:"Lancer",gameName:"PlayerBeta",paymentRange:"Medium",identity:"Real",language:"Thai",team:"B",teamNumber:2},{uid:"UID003",x:400,y:300,coordinates:{x:400,y:300},weaponType:"Shield",position:"Defender",gameName:"PlayerGamma",paymentRange:"High",identity:"Real",language:"English",team:"C",teamNumber:3},{uid:"UID004",x:500,y:450,coordinates:{x:500,y:450},weaponType:"Horse",position:"Rider",gameName:"PlayerDelta",paymentRange:"Very High",identity:"Real",language:"Thai",team:"Joker",teamNumber:4},{uid:"UID005",x:150,y:350,coordinates:{x:150,y:350},weaponType:"Bow",position:"Archer",gameName:"PlayerEcho",paymentRange:"High",identity:"Real",language:"English",team:"A",teamNumber:5},{uid:"UID006",x:300,y:100,coordinates:{x:300,y:100},weaponType:"Spear",position:"Lancer",gameName:"PlayerFoxtrot",paymentRange:"Medium",identity:"Real",language:"Thai",team:"B",teamNumber:6},{uid:"UID007",x:450,y:250,coordinates:{x:450,y:250},weaponType:"Shield",position:"Defender",gameName:"PlayerGolf",paymentRange:"Low",identity:"Real",language:"Thai",team:"C",teamNumber:7},{uid:"UID008",x:200,y:500,coordinates:{x:200,y:500},weaponType:"Horse",position:"Rider",gameName:"PlayerHotel",paymentRange:"High",identity:"Real",language:"English",team:"Joker",teamNumber:8},{uid:"UID009",x:350,y:400,coordinates:{x:350,y:400},weaponType:"Bow",position:"Archer",gameName:"PlayerIndia",paymentRange:"Very High",identity:"Real",language:"Thai",team:"A",teamNumber:9},{uid:"UID010",x:550,y:150,coordinates:{x:550,y:150},weaponType:"Spear",position:"Lancer",gameName:"PlayerJuliet",paymentRange:"High",identity:"Real",language:"English",team:"B",teamNumber:10}])}addPlayer(a){const n={...a,team:void 0,teamNumber:void 0,coordinates:void 0,weaponType:void 0,position:void 0,paymentRange:void 0};this._players.update(r=>[...r,n])}updatePlayerWithWeapon(a){const n=this._players().findIndex(r=>r.uid===a.uid);if(-1!==n){const r=this._players()[n],p={...r,team:a.team,teamNumber:a.teamNumber,coordinates:{x:a.x,y:a.y},weaponType:a.weaponType,position:a.position,paymentRange:r.paymentAbility};this._players.update(g=>g.map((i,s)=>s===n?p:i));const y={uid:a.uid,x:a.x,y:a.y,coordinates:{x:a.x,y:a.y},weaponType:a.weaponType,position:a.position,gameName:r.gameName,paymentRange:r.paymentAbility,identity:r.identity,language:r.language,team:a.team,teamNumber:a.teamNumber};this._weapons.update(g=>[...g,y])}}removePlayer(a){this._players.update(n=>n.filter(r=>r.uid!==a)),this._weapons.update(n=>n.filter(r=>r.uid!==a))}updateAdminSettings(a){this._adminSettings.update(n=>({...n,...a}))}getPlayersByTeam(a){return this._players().filter(n=>n.team===a)}getWeaponByUID(a){return this._weapons().find(n=>n.uid===a)}isUIDExists(a){return this._players().some(n=>n.uid===a)}static{this.\u0275fac=function(n){return new(n||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()}}]);